"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.expect = void 0;
const api = require("@aws-cdk/cx-api");
const inspector_1 = require("./inspector");
const synth_utils_1 = require("./synth-utils");
function expect(stack, skipValidation = false) {
    // if this is already a synthesized stack, then just inspect it.
    const artifact = stack instanceof api.CloudFormationStackArtifact ? stack : synth_utils_1.SynthUtils._synthesizeWithNested(stack, { skipValidation });
    return new inspector_1.StackInspector(artifact);
}
exports.expect = expect;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZXhwZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUF1QztBQUN2QywyQ0FBNkM7QUFDN0MsK0NBQTJDO0FBRTNDLFNBQWdCLE1BQU0sQ0FBQyxLQUFrRCxFQUFFLGNBQWMsR0FBRyxLQUFLO0lBQy9GLGdFQUFnRTtJQUNoRSxNQUFNLFFBQVEsR0FBRyxLQUFLLFlBQVksR0FBRyxDQUFDLDJCQUEyQixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLHdCQUFVLENBQUMscUJBQXFCLENBQUMsS0FBSyxFQUFFLEVBQUUsY0FBYyxFQUFFLENBQUMsQ0FBQztJQUN4SSxPQUFPLElBQUksMEJBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBSkQsd0JBSUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjZGsgZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQgKiBhcyBhcGkgZnJvbSAnQGF3cy1jZGsvY3gtYXBpJztcbmltcG9ydCB7IFN0YWNrSW5zcGVjdG9yIH0gZnJvbSAnLi9pbnNwZWN0b3InO1xuaW1wb3J0IHsgU3ludGhVdGlscyB9IGZyb20gJy4vc3ludGgtdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0KHN0YWNrOiBhcGkuQ2xvdWRGb3JtYXRpb25TdGFja0FydGlmYWN0IHwgY2RrLlN0YWNrLCBza2lwVmFsaWRhdGlvbiA9IGZhbHNlKTogU3RhY2tJbnNwZWN0b3Ige1xuICAvLyBpZiB0aGlzIGlzIGFscmVhZHkgYSBzeW50aGVzaXplZCBzdGFjaywgdGhlbiBqdXN0IGluc3BlY3QgaXQuXG4gIGNvbnN0IGFydGlmYWN0ID0gc3RhY2sgaW5zdGFuY2VvZiBhcGkuQ2xvdWRGb3JtYXRpb25TdGFja0FydGlmYWN0ID8gc3RhY2sgOiBTeW50aFV0aWxzLl9zeW50aGVzaXplV2l0aE5lc3RlZChzdGFjaywgeyBza2lwVmFsaWRhdGlvbiB9KTtcbiAgcmV0dXJuIG5ldyBTdGFja0luc3BlY3RvcihhcnRpZmFjdCk7XG59XG4iXX0=